<form role="form" name="form">

  <script cam-script type="text/form-script">
    //     inject(['$rootScope', function($rootScope) {
    //  $scope.userName = $rootScope.authentication.name;
    //}]);
    
      var variableManager = camForm.variableManager;

    camForm.on('variables-fetched', function() {
      // access to all process variables after the form has loaded
      console.log(variableManager.variables);
    });
    

     camForm.on('form-loaded', function() {
    // Your script code here
    
    // Declare the addNewVariable function in the global scope
    window.addNewVariable = function() {
      console.log("addnewVariable entered");
      
      // Add a new process variable when the button is clicked
      camForm.variableManager.createVariable({
        name: 'approved',
        type: 'Boolean',
        value: 'true'
      });
      
      console.log(camForm);
    };
  });
    
  </script>
  
  
  <h1>Greetings {{ userName }}</h1>

  <div class="form-group">
    <label for="customerId-field">Customer ID</label>
    <input readonly
           cam-variable-name="customerId"
           cam-variable-type="String"
           class="form-control" />
  </div>
  
  <div class="form-group">
    <label for="amount-field">Amount</label>
    <input readonly
           cam-variable-name="amount"
           cam-variable-type="Double"
           class="form-control" />
  </div>
  
  <div class="form-group">
  <label for="document-field">Document</label>
  <input 
         type="file"
         cam-variable-name="document"
         cam-variable-type="File"
         cam-max-filesize="10000000" />
  </div>
  
  <div class="form-group">
    <button onclick="addNewVariable()">Click me</button> 
  </div>
  
</form>
